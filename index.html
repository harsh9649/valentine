<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For Shilpi ‚ù§Ô∏è</title>

  <style>
    body{
      margin:0;
      height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      background: radial-gradient(circle at top, #ffd6e4, #ff2f60);
      font-family: Arial, sans-serif;
      overflow:hidden;
      color:white;
      text-align:center;
    }

    canvas{
      position:absolute;
      inset:0;
      z-index:0;
    }

    /* extra firework layer */
    #fireworks{
      position:absolute;
      inset:0;
      z-index:1;
      pointer-events:none;
    }

    .card{
      width: min(92vw, 560px);
      background: rgba(255,255,255,0.16);
      border: 1px solid rgba(255,255,255,0.22);
      padding: 30px 20px;
      border-radius: 22px;
      backdrop-filter: blur(7px);
      box-shadow: 0 12px 35px rgba(0,0,0,0.28);
      z-index:3;
      animation: pop 1.2s ease forwards;
      position: relative;
    }

    @keyframes pop{
      0%{ transform:scale(0.7); opacity:0;}
      100%{ transform:scale(1); opacity:1;}
    }

    h1{
      font-size: 34px;
      margin: 0 0 10px;
    }
    .sub{
      font-size: 18px;
      opacity:0.96;
      margin-bottom: 18px;
    }

    #proposal{
      font-size: 30px;
      font-weight: 700;
      margin-top: 12px;
      animation: glow 1.2s ease-in-out infinite alternate;
    }

    @keyframes glow{
      from{ text-shadow: 0 0 6px rgba(255,255,255,0.35); }
      to{ text-shadow: 0 0 20px rgba(255,255,255,0.85); }
    }

    .btnRow{
      margin-top: 20px;
      display:flex;
      justify-content:center;
      gap: 14px;
      flex-wrap: wrap;
      position: relative;
      min-height: 52px;
    }

    button{
      border: none;
      padding: 12px 18px;
      border-radius: 14px;
      font-size: 16px;
      font-weight: 800;
      cursor: pointer;
      transition: transform .14s ease;
    }
    button:hover{ transform: translateY(-2px); }

    .yes{
      background: white;
      color:#ff2f60;
    }
    .no{
      background: rgba(0,0,0,0.20);
      color:white;
      border: 1px solid rgba(255,255,255,0.3);
      position: relative;
    }

    .small{
      margin-top: 14px;
      font-size: 15px;
      opacity: 0.95;
    }

    .hidden{ display:none; }

    /* floating hearts */
    .heart{
      position:absolute;
      width:14px;
      height:14px;
      background: rgba(255,255,255,0.95);
      transform: rotate(45deg);
      border-radius: 2px;
      animation: floatUp 3.8s linear infinite;
      opacity:0.9;
      z-index:2;
      pointer-events:none;
    }
    .heart:before,.heart:after{
      content:"";
      position:absolute;
      width:14px;
      height:14px;
      background: rgba(255,255,255,0.95);
      border-radius:50%;
    }
    .heart:before{ left:-7px; top:0; }
    .heart:after{ left:0; top:-7px; }

    @keyframes floatUp{
      0%{ transform: translateY(30px) rotate(45deg); opacity:0}
      10%{opacity:0.9}
      100%{ transform: translateY(-120vh) rotate(45deg); opacity:0}
    }

    /* Success screen */
    #success{
      font-size: 28px;
      font-weight: 800;
      margin-top: 10px;
      line-height: 1.3;
    }

    .emoji{
      font-size: 36px;
      margin-top: 12px;
    }

    /* BOOM text animation */
    .boomText{
      position:absolute;
      left:50%;
      top:50%;
      transform: translate(-50%,-50%) scale(0.2);
      font-weight:900;
      font-size: clamp(28px, 6vw, 70px);
      letter-spacing: 2px;
      text-shadow: 0 0 18px rgba(255,255,255,0.8);
      opacity:0;
      z-index:4;
      pointer-events:none;
      animation: boomPop 1s ease forwards;
    }

    @keyframes boomPop{
      0%   {opacity:0; transform:translate(-50%,-50%) scale(0.2) rotate(-6deg);}
      25%  {opacity:1; transform:translate(-50%,-50%) scale(1.2) rotate(3deg);}
      60%  {opacity:1; transform:translate(-50%,-50%) scale(1.0) rotate(-2deg);}
      100% {opacity:0; transform:translate(-50%,-50%) scale(1.8) rotate(2deg);}
    }
  </style>
</head>

<body>
<canvas id="confetti"></canvas>
<canvas id="fireworks"></canvas>

<div class="card">
  <h1>Hi Shilpi ‚ù§Ô∏è</h1>
  <div class="sub">I made a small surprise for you‚Ä¶</div>

  <div id="main">
    <div id="proposal">Will you be my Valentine, Shilpi? üíå</div>

    <div class="btnRow" id="btnRow">
      <button class="yes" onclick="yesClicked()">YES üíñ</button>
      <button class="no" id="noBtn" onclick="noClicked()">NO üôà</button>
    </div>

    <div class="small" id="hint">Tip: Choose wisely üòÑ</div>
  </div>

  <div id="afterYes" class="hidden">
    <div id="success">Yayyy Shilpi!!! üíñ<br/>You just made my day üòç</div>
    <div class="emoji">üéâüéäüíêü•∞</div>
    <div class="small">‚Äî Harsh ‚ù§Ô∏è</div>
  </div>
</div>

<script>
  // ===== Confetti =====
  const confCanvas = document.getElementById("confetti");
  const confCtx = confCanvas.getContext("2d");

  function resize(){
    confCanvas.width = innerWidth;
    confCanvas.height = innerHeight;

    fwCanvas.width = innerWidth;
    fwCanvas.height = innerHeight;
  }
  addEventListener("resize", resize);

  let confettiOn = false;
  const pieces = [];

  function addConfetti(){
    pieces.length = 0;
    for(let i=0;i<220;i++){
      pieces.push({
        x: Math.random()*confCanvas.width,
        y: -20 - Math.random()*confCanvas.height,
        r: 2 + Math.random()*4,
        s: 1 + Math.random()*3.2,
        a: Math.random()*Math.PI,
      });
    }
  }

  function drawConfetti(){
    confCtx.clearRect(0,0,confCanvas.width,confCanvas.height);
    if(confettiOn){
      pieces.forEach(p=>{
        p.y += p.s;
        p.x += Math.sin(p.a) * 1.1;
        p.a += 0.02;

        confCtx.beginPath();
        confCtx.arc(p.x,p.y,p.r,0,Math.PI*2);
        confCtx.fillStyle = "rgba(255,255,255,0.85)";
        confCtx.fill();

        if(p.y > confCanvas.height+40){
          p.y = -20;
          p.x = Math.random()*confCanvas.width;
        }
      });
    }
    requestAnimationFrame(drawConfetti);
  }

  // ===== Hearts =====
  function spawnHearts(){
    const h = document.createElement("div");
    h.className = "heart";
    h.style.left = Math.random()*100 + "vw";
    h.style.animationDuration = (2.0 + Math.random()*3.3) + "s";
    const size = (10 + Math.random()*22);
    h.style.width = h.style.height = size + "px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(), 6500);
  }
  function heartBurst(){
    for(let i=0;i<40;i++){
      setTimeout(spawnHearts, i*110);
    }
  }

  // ===== BOOM BOOM text =====
  function boom(text){
    const el = document.createElement("div");
    el.className = "boomText";
    el.textContent = text;
    document.body.appendChild(el);
    setTimeout(()=>el.remove(), 1100);
  }

  // ===== Fireworks =====
  const fwCanvas = document.getElementById("fireworks");
  const fwCtx = fwCanvas.getContext("2d");

  const fireworks = [];
  function fireworkBurst(x,y){
    // particles
    const count = 45 + Math.floor(Math.random()*30);
    for(let i=0;i<count;i++){
      fireworks.push({
        x,y,
        vx: (Math.random()-0.5)*7,
        vy: (Math.random()-0.5)*7,
        life: 60 + Math.random()*25
      });
    }
  }

  function drawFireworks(){
    fwCtx.clearRect(0,0,fwCanvas.width,fwCanvas.height);

    for(let i=fireworks.length-1;i>=0;i--){
      const p = fireworks[i];
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.04; // gravity
      p.life -= 1;

      fwCtx.beginPath();
      fwCtx.arc(p.x,p.y,2,0,Math.PI*2);
      fwCtx.fillStyle = "rgba(255,255,255,0.9)";
      fwCtx.fill();

      if(p.life<=0) fireworks.splice(i,1);
    }

    requestAnimationFrame(drawFireworks);
  }

  // ===== No button prank =====
  const noBtn = document.getElementById("noBtn");
  const btnRow = document.getElementById("btnRow");
  let noCount = 0;

  function moveNoButton(){
    const rect = btnRow.getBoundingClientRect();
    const maxX = rect.width - 110;
    const maxY = 10;

    noBtn.style.position = "absolute";
    noBtn.style.left = Math.max(0, Math.random()*maxX) + "px";
    noBtn.style.top  = Math.max(0, Math.random()*maxY) + "px";
  }

  function noClicked(){
    noCount++;
    document.getElementById("hint").innerText =
      (noCount <= 2) ? "Aree Shilpi üôà NO mat dabao üòÑ" :
      (noCount <= 4) ? "Hehe‚Ä¶ NO ab pakad me nahi aayega üòÅ" :
      "Bas bas‚Ä¶ YES hi option hai üòç";
    moveNoButton();
  }
  noBtn.addEventListener("mouseenter", moveNoButton);
  noBtn.addEventListener("touchstart", (e)=>{ e.preventDefault(); moveNoButton(); });

  // ===== Yes action =====
  function yesClicked(){
    document.getElementById("main").classList.add("hidden");
    document.getElementById("afterYes").classList.remove("hidden");

    // confetti + hearts + fireworks
    confettiOn = true;
    addConfetti();
    heartBurst();
    setInterval(spawnHearts, 420);

    // Firework bursts
    const bursts = 10;
    for(let i=0;i<bursts;i++){
      setTimeout(()=>{
        fireworkBurst(
          Math.random()*fwCanvas.width,
          (Math.random()*fwCanvas.height*0.6) + 50
        );
      }, i*220);
    }

    // BOOM BOOM / BOOBO DOOBO
    const words = ["BOOM üí•", "BOOM üí•", "BOOBO üòÑ", "DOOBO üòÑ", "CRACKERS üéÜ"];
    words.forEach((w,idx)=>{
      setTimeout(()=>boom(w), idx*260);
    });
  }

  // init
  resize();
  drawConfetti();
  drawFireworks();
</script>
</body>
</html>
